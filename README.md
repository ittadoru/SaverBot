# SAVEBOT

**SAVEBOT** ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–æ—Ü—Å–µ—Ç–µ–π –∏ —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏.  
–ë–æ—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **Python (aiogram 3 + FastAPI)** –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PostgreSQL** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.  
–í–µ—Å—å –ø—Ä–æ–µ–∫—Ç —É–ø–∞–∫–æ–≤–∞–Ω –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è.

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ù–ï–¢ —Ñ–∞–π–ª–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–π –≤ `alembic/versions/` (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞), —á—Ç–æ–±—ã –Ω–µ —Ç–∞—â–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π. –°—Ö–µ–º—É –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

```bash
git clone https://github.com/ittadoru/BotTemplate.git
cd BotTemplate
cp .env.example .env        # –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è
docker compose up -d --build
docker compose logs -f app  # —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- –ë–æ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω –≤ Telegram (–ø–æ —Ç–æ–∫–µ–Ω—É –∏–∑ `.env`).  
- Webhook –¥–ª—è –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ YooKassa: `https://DOMAIN/yookassa`

---

## ‚õîÔ∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
–ï—Å–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –∏ sqlalchemy, —Ç–æ —Å–ª–µ–¥—É–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —É–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ volume, —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –ø–∞–ø–∫–µ alembic/versions (–µ—Å–ª–∏ –µ—Å—Ç—å), –∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ posgresql –≤ —Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å –Ω—É–ª—è:
```bash
docker compose down
docker volume ls 
# –¥–æ–ø—É—Å—Ç–∏–º volume –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è pgdata
docker volume rm pgdata
docker compose run --rm app bash
alembic revision --autogenerate -m "initial"
exit
docker compose up --build
```
–ê –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ, —Ç–æ –Ω—É–∂–Ω–æ –¥–æ–π–¥—è –¥–æ `docker compose run --rm app bash` –¥–∞–ª–µ–µ –≤–≤–µ—Å—Ç–∏ `psql -h postgres -U <–≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å> -d <–≤–∞—à–∞_–±–¥>` –∏ –≤–≤–µ–¥—è –ø–∞—Ä–æ–ª—å –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –±–¥

---

## üì• –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ
SAVEBOT –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –º–µ–¥–∏–∞ –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:  
- **YouTube** ‚Äî —á–µ—Ä–µ–∑ `yt-dlp`.  
- **TikTok** ‚Äî —á–µ—Ä–µ–∑ `yt-dlp`.  
- **Instagram** ‚Äî —á–µ—Ä–µ–∑ `yt-dlp`.  

–í–∏–¥–µ–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä—è–º–æ –≤ —á–∞—Ç.  

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
| –ü—Ä–æ–±–ª–µ–º–∞                     | –í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞                  | –†–µ—à–µ–Ω–∏–µ                                     |
|------------------------------|------------------------------------|---------------------------------------------|
| –í–∏–¥–µ–æ –Ω–µ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è         | –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –≤–µ—Ä—Å–∏—è `yt-dlp`         | –û–±–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É                         |
| 400 –æ—à–∏–±–∫–∞ `/yookassa`       | –ù–µ–≤–µ—Ä–Ω—ã–π webhook URL               | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DOMAIN –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ YooKassa       |
| –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è     | –¢–∞—Ä–∏—Ñ –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ             | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Ç–∞–±–ª–∏—Ü—É —Ç–∞—Ä–∏—Ñ–æ–≤        |
| –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–π       | –ü–æ–≤—Ç–æ—Ä–Ω—ã–π webhook                  | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ idempotency key                 |
| –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î         | Postgres –Ω–µ –∑–∞–ø—É—â–µ–Ω / –Ω–µ–≤–µ—Ä–Ω—ã–π URL | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `postgres`              |
| –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç              | –ù–µ–≤–µ—Ä–Ω—ã–π BOT_TOKEN                 | –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω —É BotFather              |

---

## ‚ÑπÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (`handlers`) –∏ –ø—Ä–∏–º–µ—Ä –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏-—à–∞–±–ª–æ–Ω–µ:  
üëâ [BotTemplae](https://github.com/ittadoru/BotTemplae)  

---

## –°–≤—è–∑—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º
–ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–æ—Ä–∞–±–æ—Ç–∫–∏ / –≤–æ–ø—Ä–æ—Å—ã / –±–∞–≥–∏:
* Telegram: @ittadoru